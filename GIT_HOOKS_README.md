# Git Hooks и инструменты контроля качества кода

Этот проект использует Git Hooks и инструменты контроля качества кода для обеспечения единообразия кода, соблюдения стандартов форматирования и предотвращения ошибок.

## Установленные инструменты

- **Husky** - запускает скрипты перед коммитом или пушем изменений
- **Lint-staged** - запускает линтеры только на измененных файлах перед коммитом
- **Commitlint** - проверяет соответствие сообщений коммитов стандартам
- **ESLint** - статический анализ кода для выявления проблемных паттернов
- **Prettier** - форматирование кода для обеспечения единого стиля

## Автоматическая настройка

После клонирования репозитория выполните:

```bash
npm install
```

Это автоматически настроит Git Hooks через скрипт `prepare`.

## Как это работает

### Pre-commit хук

При попытке коммита:

1. **lint-staged** запускается и проверяет измененные файлы
2. Запускается форматирование кода с помощью **Prettier**
3. Запускается проверка кода с помощью **ESLint**
4. Если есть ошибки, коммит будет отклонен

### Commit-msg хук

При создании сообщения коммита:

1. **Commitlint** проверяет формат сообщения
2. Если формат неправильный, коммит будет отклонен

## Формат сообщений коммитов

Сообщения коммитов должны соответствовать [Conventional Commits](https://www.conventionalcommits.org/).

Формат: `type(scope): description`

Типы:

- **feat**: новая функциональность
- **fix**: исправление ошибки
- **docs**: изменения в документации
- **style**: форматирование, отступы (не влияет на код)
- **refactor**: рефакторинг кода
- **test**: добавление или исправление тестов
- **chore**: обновление задач сборки, настроек

Примеры:

```
feat(auth): add login validation
fix(api): fix user profile response format
docs: update setup instructions
```

## Обход проверок (не рекомендуется)

В исключительных случаях можно обойти проверки:

```bash
git commit --no-verify -m "commit message"
```

**Примечание**: Старайтесь не обходить проверки, они помогают поддерживать качество кода.

## Настройка IDE

Для лучшей интеграции рекомендуется настроить ваш редактор кода:

### VSCode

Установите расширения:

- ESLint
- Prettier

Настройте автоматическое форматирование при сохранении в settings.json:

```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[javascriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
}
```
