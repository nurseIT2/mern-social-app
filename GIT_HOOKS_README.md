# Git Hooks и Pre-commit инструменты

В этом проекте используются Git Hooks и Pre-commit инструменты для обеспечения качества кода и стандартизации процесса разработки.

## Используемые инструменты

- **Husky** - запускает скрипты перед коммитом или пушем изменений
- **Lint-staged** - запускает линтеры только на измененных файлах перед коммитом
- **Commitlint** - проверяет соответствие сообщений коммитов стандартам

## Установка

Для установки всех необходимых зависимостей и настройки Git Hooks выполните следующие команды:

```bash
# Установка зависимостей
npm install

# Автоматическая настройка Husky (выполняется автоматически после npm install)
npm run prepare
```

## Формат сообщений коммитов

Сообщения коммитов должны соответствовать формату [Conventional Commits](https://www.conventionalcommits.org/):

```
<тип>(<область>): <краткое описание>

[Опциональное подробное описание]

[Опциональный footer]
```

### Типы коммитов

- **feat**: новая функциональность
- **fix**: исправление ошибки
- **docs**: изменения в документации
- **style**: изменения, не влияющие на поведение (форматирование, пробелы и т.д.)
- **refactor**: изменения кода, не исправляющие ошибки и не добавляющие новых функций
- **perf**: улучшения производительности
- **test**: добавление или исправление тестов
- **build**: изменения в системе сборки или внешних зависимостях
- **ci**: изменения в CI конфигурации и скриптах
- **chore**: прочие изменения, не затрагивающие код или тесты
- **revert**: откат предыдущего коммита

### Примеры правильных сообщений коммитов

```
feat(auth): добавлена возможность входа через Google
fix(api): исправлена ошибка в обработке ответа от сервера
docs(readme): обновлена документация по установке
style(client): отформатирован код компонентов
refactor(server): переписан контроллер аутентификации
```

## Как это работает

1. Когда вы пытаетесь сделать коммит, Husky запускает pre-commit хук
2. Pre-commit хук использует Lint-staged для запуска линтеров и форматтеров только на измененных файлах
3. Если есть ошибки в коде, коммит будет отклонен, и вы увидите список ошибок
4. Когда вы пишете сообщение коммита, Commitlint проверяет его формат
5. Если сообщение не соответствует конвенции, коммит будет отклонен

## Настройка IDE

Для лучшей интеграции рекомендуется настроить ваш редактор кода:

### VSCode

Установите расширения:
- ESLint
- Prettier

Настройте автоматическое форматирование при сохранении в settings.json:

```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[javascriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
}
```

## Отключение проверок при необходимости

Если вам нужно сделать коммит без проверок (не рекомендуется для основной разработки):

```bash
# Пропустить хуки Husky
git commit -m "feat: что-то важное" --no-verify

# Или установить переменную окружения
HUSKY=0 git commit -m "feat: что-то важное"
``` 